---
title: "lab1_1"
author: "yun"
date: "2018년 2월 19일 수업"
output:
  html_document: default
  latex_engine: xelatex
  mainfont: NanumSquareR
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Intro to R 

>R is a language and environment for statistical computing and graphics.
>R is available as Free Software. 
>*reference* : <https://www.r-project.org/about.html>

## Intoducing R 
*reference* : <http://data.princeton.edu/R/gettingStarted.html>

assign: variable <- value  
output: print function, ( ) , variable 

### 2.Getting Started
####2.2 Expressions and Assignments
Expressions and Assignments |
----------------------------|----------------------------
standard arithmetic operators: +, -, * , ^ |
mathematical functions: sqrt, exp, log |
logical operators: \| or, & and |

**R is case sensitive**
####2.3 Vectors and Matrices
```{r }
x <-c(1,2,3,4,5)
```
colon operator ':' generate a sequence of numbers
```{r }
x <- 1:30
```
seq function: create a sequence , seq(starting point,stopping point,increment)
```{r }
seq(0,1,0.5)
```
rep function: repeat or replicate ,rep(x,2) replicates the entire vector x two times
```{r }
rep(1:5,3)
```
list the elements of x that are less than 5
```{r }
x <- 1: 10
x[x< 5]  
x < 5 
```
*Matrix* 
```{r }
M <- matrix(1:16,4,4)
M
(M[1,1])
print(M[4,4])
```
####2.4 Simple Graphs
```{r }
z <- seq(-5,5,.1)
d <- dnorm(z)
plot(z,d,type="l") #lines type
title("The Standard Normal Density",col.main="blue")
```

?plot: more details on optional parameters ( plot )

type | mean
------------|-------------
p | points
l | lines
b | both 
c | lines part alone of "b"
o | overplotted
h | histogram
s | stair steps
S | other steps
n | no plotting 

pi
color names: colors()
```{r }
pie(rep(1,16),col=rainbow(16))
pie(rep(1,4),col=c("red","green","blue","white"))
```

**Exercise**
```{r }
x <- seq(-3,3,.1)
y <- 2 * x + 1 # alpha:1, beta:2
d <- dnorm(y)
plot(x,d,type="l")
title("Regression model Y=a+bx+e",col.main="magenta")
```

###3 Reading and Examining Data
####3.1 Lists and Data Frames
```{r }
person = list(name="Karen",age=25)
person$name # equal to person["name"]
person$age  # equal to person["age"]
```
####3.2 Free-Format Input
*dataset* <http://data.princeton.edu/wws509/datasets/>

**The Program Effort Data** 
```{r }
fpe <- read.table("http://data.princeton.edu/wws509/datasets/effort.dat",header=TRUE)
fpe
#header, 데이터에 header가 있는지 없는지 설정
```
header가 없을때,header 이름 추가   
```{r }
phd <- read.table("http://data.princeton.edu/wws509/datasets/phd.dat",col.names=c("year","university","residence","events","exposure")) 
#names(phd) = c("year","university","residence","events","exposure") 
phd
```

**Exercise**
```{r }
EM <- matrix(c(1:6),2,3,byrow=TRUE)
colnames(EM) <-c("a","b","c")
rownames(EM) <-c(" "," ")
EM
``` 

####3.4 Printing Data and Summaries
```{r }
colnames(fpe)
fpe$setting
fpe$effort
fpe$change
attach(fpe) #fpe data를 사용한다고 고정.위에 처럼 앞에 data이름을 안붙임 
setting
effort
change
detach(fpe) #고정을 풀고 앞에 data를 안붙이면 오류
#summary
summary(fpe)
mean(fpe)
attach(fpe)
cor(effort,change) #상관관계
#effort==0 ,fpe[row,column] 
fpe[effort==0,]
fpe["Chile",]
```

####3.5 Plotting Data
boxplot
```{r }
boxplot(setting,col="purple")
title("Boxplot of Setting",col.main="#3366CC")
```
scatterplot
```{r }
plot(effort,change,pch=21,bg="gold") 
title("Scatterplot of Change by Effort",col.main="#3366CC")
```

**identify(effort, change, row.names(fpe), ps=5)**

ps : size of the text in points
5개의 점을 찍어주고, Plots창에서 finish 버튼을 눌러주거나 Console창에서 Esc버튼을 눌러주면 찍은 지점에서 가장 가까운 포인트를 알려줌

output: [1] 12 14 15 16 19

pairs: scatterplot matrix , save fpe data.frame
```{r }
pairs(fpe)
save(fpe,file="fpe.Rdata")
load("fpe.Rdata")
```
###4.Linear Models
####4.1 Fitting a Model
```{r }
lmfit = lm(change ~ setting + effort) 
        #영향(y):change   #영향을 미치는 요인(x):setting,effort
lmfit 
#setting,effort 둘다 양수 -> positive 영향, effort는 높은 상관관계 
summary(lmfit,correlation=TRUE) #option correlation 
anova(lmfit)
mfrow=c(2,2)
plot(lmfit)
```
+additonal data
```{r }
data_add <-read.table("http://data.princeton.edu/wws509/datasets/salary.dat",header=TRUE) #header 설정을 안해주면 V1부터 Vn까지 임의의 칼럼명이 생기고 본래 칼럼명이 값으로 들어감
colnames(data_add)
attach(data_add) #어떤 data의 변수인지 인식되기 위해서 attach
lmfit1 <- lm(sl ~ sx+rk+yr+dg+yd)
summary(lmfit1,correlation = TRUE)
anova(lmfit1)
plot(lmfit1)
```


```{r }
library(knitr)
knit("lab1-1.Rmd")
```
